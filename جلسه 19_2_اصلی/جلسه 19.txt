این جلسه: Authentication
اول راجع به این توضیح بدم که الان هر کسی میتونه جای کس دیگه پست بذاره.
هر کسی میتونه پست کس دیگه رو پاک کنه و هیچ بررسی ای انجام نمیشه توی سایت.
اگه خودمون بخوایم بنویسیم قطعا بدتر مینویسیم و کلی باگ و مشکل امنیتی خواهد داشت. وقتمون هم کلی میره.
پس از سیستم احراز هویت خود جنگو که کلی برنامه نویس حرفه ای نوشتن استفاده میکنیم.

خب بریم اپ جدید بسازیم. اسمش رو میسازیم accounts که مربوط به حساب های کاربری مون باشه.
به auth که مال خود جنگو هست حق نداریم دست بزنیم.
یادمون نره اپ رو توی ستینگز اینستال کنیم.
برای لاگین نیازی بهش نداریم. برای ساین آپ لازمه ولی خب اول میسازیمش که بعدا کارمون راحت باشه.
بعد میریم توی یو آر ال ستینگز برای اکانت هم اضافه میکنیم.
آمّا
به جای این که خودمون یو آر الز رو اضافه کنیم، به کدهای نوشته شده آماده جنگو ارایه میدیم. مینویسیم:
path('blog/', include('django.contrib.auth.urls')),
که چون استرینگ هست، بهمون کمک نمیکنه داخلش رو ببینیم.
میتونم قبلش بنویسم ایمپورت همون رشته هه که بشناستنش. بعد با کنترل و کلیک روی یو آر الز، کدهای داخلش رو به بچه ها نشون بدم که
این بار دیگه براشون آشناست.
منتهی name ای که برای اون ویو ها نوشته رو باید رعایت کنیم. حق نداریم بهش دست بزنیم.
ما باید اسم فایل هامون رو مطابق اون بذاریم.
برای ساخت صفحه لاگین، اسم فایل اچ تی ام المون باید login.html باشه و حتما داخل پوشه registration باشه.
بچه ها از کجا بدونن؟
نباید بدونن. باید توی داکیومنتیشن خووند و ویژگی فریم ورک ها همینه.
اما برای این که حفظ نکنن و راحت باشه.
سر کلاس میتونم بهشون نشون بدم که توی همون کدهای اون صفحه روی لاگین ویو کنترل رو نگه دارن و کلیک رو بزنن، داخل ویوی مربوطه
تو قسمت template_name میشه این رو پیدا کرد.
اگه ضعیف یا عادی بودن که توضیحات لازم نیست و فقط خودم میتونم سریع نگاه کنم.
ولی اگه قوی بودند که میتونم بگم خودشون هم این کار رو انجام بدن که حفظ نکنند و راحت هر بار پیداش کنن.
خلاصه این پوشه و فایل های مربوطه رو توی پوشه تمپلیتس اصلی خود پروژه (و نه هیچ کودوم از اپ ها میسازیم.)
(بیس دایرکتوری هم که باید قاعدتا اضافه کرده باشیم تا حالا. اگه کسی نداره اضافه کنه.)
(البته میشه توی اپ اکانت هم ساخت. ولی داخل پوشه تمپلیتس اون قرار شد که یه پوشه اکانتس داشته باشیم. به هر حال من بر اساس فیلم تو همون تمپلیتس اولیه پروژه گذاشتم.)
آخرین بخش هم این که الان خود لاگین کار میکنه. منتهی اگه پسورد اشتباه باشه، بهمون میگه. ولی اگه درست باشه، نمیدونه که کجا بره.
باید بریم توی فایل ستینگز و این متغیر رو تعریف کنیم.
LOGIN_REDIRECT_URL = 
ترجیحا خط آخر و بگیم که دوست داریم بعد از لاگین به کجا بره که مثلا من اینو نوشتم.
LOGIN_REDIRECT_URL = 'posts_list'
که بعد از لاگین بره صفحه اول وبلاگ.
حواسم هم باشه که تمام حروف حتما باید بزرگ نوشته بشه.
این جلسه به نسبت خیلی سنگین بود. برای خودم هم سنگین بود. اگه لازم شد جلسه بعد هم مرور بشه. یا مطالب کمتری گفته بشه و توی دو جلسه گفته بشه.

